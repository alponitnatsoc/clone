{% extends "::base.html.twig" %}

{% block fos_user_content %}

    {% block stylesheets %}
        {{ parent() }}
        <style>
            .blockUpData label {
                min-height: 0px;
            }
            .blockUpData .radio {
                padding: 5px 5px 5px 5px;
                margin: 0px;
                display: inline;
                /* vertical-align: middle; */
            }
            .blockUpData{
                border-bottom: 1px solid #E9E9E9;
            }
            .saveControl{
                margin-left: 10px;
                display: inline-block;
            }
        </style>
    {% endblock %}

    <div id='registrationFormContainer' class='' style="margin-top: 10px;">
        {{ form_start(form) }}
        <div class="col-sm-12 col-xs-12 align-Resp">
            <div class="btn col-sm-12 col-xs-12 blockStep complete nav-link">
                <div style="text-align: left;" class="col-md-2 col-xs-12 txt-AD0 statusBarIcon">
                    <img src="/img/employ_white.png">
                </div>
                <div class="col-md-6 col-xs-12 txt-AD1">
                    <div class="text-left" id="">
                        <p>Paso <strong>3</strong> de 4</p>
                        Finalizar afiliación
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="col-sm-12 col-xs-12 block-Intro">
                <span>La información que aparece a continuación es fundamental para el proceso de registro.</span>
                <span>Si no la conoces o no la tienes Symplifica<a href="{{ path('contact') }}"> lo hace por ti.</a></span>
            </div>
        </div>
        <ul class="nav nav-tabs nav-justified">
            <li {%   if tab==1 %} class="active" {% endif %}><a data-toggle="tab" data-target="#employeeEntities">Entidades de los empleados</a></li>
            <li {%   if tab==2 %} class="active" {% endif %}><a data-toggle="tab" data-target="#employerEntities">Tus Entidades</a></li>
            <li {%   if tab==3 %} class="active" {% endif %}><a data-toggle="tab" data-target="#docsMatrix">Documentos requeridos</a></li>
        </ul>

        <div class="tab-content">
            <div id="employeeEntities" class="tab-pane fade in {%   if tab==1 %}active{% endif %}">
                {# render the task's only field: description #}
                {{ form_row(form.idEmployer) }}
                <div class="col-sm-12 col-xs-12 block-Intro">
                    <span style="color:#ccc; font-weight:300"><i class="fa fa-info-circle"></i> Recuerda que los campos marcados con * son obligatorios.</span>
                </div>
                <div>
                    <div class="col-sm-12 col-xs-12 blockUpData">
                        <div class="col-sm-3 col-xs-12 row">
                            <div class="title"><i class="fa fa-user"></i> Nombre</div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <div class="title"><i class="fa fa-medkit"></i> Salud</div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <div class="title"><i class="fa fa-file-powerpoint-o"></i> Pensión</div>
                        </div>
                        <div class="col-sm-3 col-xs-12">
                            <div class="title"><i class="fa fa-users"></i> ¿Registrará beneficiarios?</div>
                        </div>
                    </div>
                    {% for employee in form.employerHasEmployees %}
                        {% if employee.wealth.vars.data.name is defined %}
                            {% set wname = employee.wealth.vars.data.name %}
                        {% else %}
                            {% set wname = "" %}
                        {% endif %}
                        {% if employee.pension.vars.data.name is defined %}
                            {% set pname = employee.pension.vars.data.name %}
                        {% else %}
                            {% set pname = "" %}
                        {% endif %}
                        <div class="col-sm-12 col-xs-12 blockUpData">
                            <div class="col-sm-3 col-xs-12">
                                {{ form_row(employee.nameEmployee) }}
                            </div>
                            <div class="wrapper">
                                <div class="hidden">
                                    {{ form_row(employee.wealth) }}
                                </div>
                                <div class="col-sm-3 col-xs-12">
                                    {{ form_row(employee.wealthAC,{'value' : wname}) }}
                                </div>
                            </div>
                            <div class="wrapper">
                                <div class="hidden">
                                    {{ form_row(employee.pension) }}
                                </div>
                                <div class="col-sm-3 col-xs-12">
                                    {{ form_row(employee.pensionAC,{'value' : pname}) }}
                                </div>
                            </div>
                            <div class="col-sm-3 col-xs-12">
                                {{ form_row(employee.beneficiaries) }}
                            </div>
                            {{ form_row(employee.idEmployerHasEmployee) }}
                        </div>
                    {% endfor %}
                </div>
                <div class="col-sm-12 col-xs-12 center" style="margin-top: 20px; margin-bottom: 20px;">
                    <input type="checkbox" name="chkAcept" id="chkAcept"/>Acepto que la información anterior fue verificada por los empleados.
                </div>
                <div class="col-sm-12 col-xs-12 block-Intro">
                    <span style="color:#ccc; font-weight:300"><i class="fa fa-info-circle"></i> En caso de que tu empleado quiera
                    cambiar de entidad, debe <a href="{{ path('contact') }}">contactarse con nosotros</a> para ofrecerle asesoría.</span>
                </div>
                <div class="col-sm-12 col-xs-12 center">
                    <a id="btn-1" href="{{ path('api_public_post_matrix_choose_submit_step1') }}" class="btn btn-primary btnNext btn-orange disabled" >Confirmar información</a>
                    <br></br>
                <br></br>
                </div>


            </div>

            <div id="employerEntities" class="tab-pane fade in {%   if tab==2 %}active{% endif %}">
                <div class="col-sm-12 col-xs-12">
                    <p>
                        Ahora es necesario que escoja la Administradora de Riesgos Laborales y la Caja de Compensación Familiar a las cuales se afiliará como empleador de acuerdo a la ley.
                        Si ya se encuentra afiliado y desea continuar afiliado a ellas, selecciónelas a continuación.
                    </p>
                </div>

                <div class="col-sm-12 col-xs-12 block-Intro">
                    <span style="color:#ccc; font-weight:300"><i class="fa fa-info-circle"></i> Recuerda que los campos marcados con * son obligatorios.</span>
                </div>

                <div class="row">
                    <div class="col-sm-12 col-xs-12 blockUpData" style="border-bottom:none;">
                        <div class="row text-center">

                            <h3>{{ employerName }}<br /></h3>
                            <h4>{{ employerDocumentType }} {{ employerDocument }}</h4>

                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <div class="col-sm-12">
                                <i class="fa fa-home"></i>
                                {{ form_label(form.severances,null,{'label_attr': {'class': 'title'}})}}
                            </div>
                            {% if employee.severances.vars.data.name is defined %}
                                {% set sname = employee.severances.vars.data.name %}
                            {% else %}
                                {% set sname = "" %}
                            {% endif %}
                            {% if employee.arl.vars.data.name is defined %}
                                {% set aname = employee.arl.vars.data.name %}
                            {% else %}
                                {% set aname = "" %}
                            {% endif %}
                            <div class="wrapper">
                                <div class="hidden">
                                    {{ form_row(form.severances) }}
                                </div>
                                <div class="col-sm-6 col-xs-12">
                                    {{ form_row(form.severancesAC,{'value' : sname}) }}
                                </div>
                            </div>
                            <div class="col-sm-12 form-group">
                            </div>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <div class="col-sm-12">
                                <i class="fa fa-home"></i>
                                {{ form_label(form.arl,null,{'label_attr': {'class': 'title'}})}}
                            </div>
                            <div class="wrapper">
                                <div class="hidden">
                                    {{ form_row(form.arl) }}
                                </div>
                                <div class="col-sm-6 col-xs-12">
                                    {{ form_row(form.arlAC,{'value' : aname}) }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="col-sm-12 col-xs-12 center">
                    <a class="btn btn-primary btnPrevious" >Anterior</a>
                    <a id="btn-2" href="{{ path('api_public_post_matrix_choose_submit_step2') }}" class="btn btn-primary btnNext btn-orange" >Siguiente</a>
                </div>
            </div>
            <div id="docsMatrix" class="tab-pane fade in {%   if tab==3 %}active{% endif %}">

                <div class="col-sm-12 col-xs-12 block-Intro">
                    <span style="color:#ccc; font-weight:300"><i class="fa fa-info-circle"></i> Podrá terminar la configuración inicial una vez anexe los documentos que se relacionan a continuación.</span>
                </div>
                <br /><br />
                <div id='' class='col-xs-12'>
                    <div class="">
                        <div class="">
                            {{ render(controller('RocketSeller\TwoPickBundle:Employer:registrationDocuments')) }}
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12 center">
                    <a class="btn btn-primary btnPrevious" > Anterior</a>
                    <div class="saveControl">{{ form_row(form.save) }}</div>
                </div>
            </div>


        </div>
        {{ form_end(form) }}
    </div>
{% endblock fos_user_content%}
